{"$schema":"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#","contentVersion":"1.0.0.0","parameters":{"logicAppName":{"type":"String","metadata":{"description":"Name of the logic app."}},"logicAppLocation":{"defaultValue":"[resourceGroup().location]","allowedValues":["eastasia","southeastasia","centralus","eastus","eastus2","westus","northcentralus","southcentralus","northeurope","westeurope","japanwest","japaneast","brazilsouth","australiaeast","australiasoutheast","southindia","centralindia","westindia","canadacentral","canadaeast","uaecentral","westcentralus","westus2","[resourceGroup().location]"],"type":"String","metadata":{"description":"Location of the logic app."}}},"resources":[{"type":"Microsoft.Logic/workflows","apiVersion":"2016-06-01","name":"[parameters('logicAppName')]","location":"[parameters('logicAppLocation')]","properties":{"state":"Disabled","definition":{"$schema":"https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#","contentVersion":"1.0.0.0","parameters":{"$connections":{"defaultValue":{},"type":"Object"},"$authentication":{"defaultValue":{},"type":"SecureObject"}},"triggers":{"manual":{"metadata":{"operationMetadataId":"68bd4ebe-cabb-4ef6-9e7a-9f05aa39181d"},"type":"Request","kind":"Button","inputs":{"schema":{"type":"object","properties":{"text":{"title":"Action","type":"string","x-ms-dynamically-added":true,"description":"Select Action","x-ms-content-hint":"TEXT","enum":["plan","apply","destroy"]},"text_1":{"title":"Environment ","type":"string","x-ms-dynamically-added":true,"description":"Select Environment ","x-ms-content-hint":"TEXT","enum":["ubuntu2204","ubuntu2204python","win10","win11"]},"text_2":{"title":"Expires","type":"string","x-ms-dynamically-added":true,"description":"Enter the expiry in days","x-ms-content-hint":"TEXT","enum":["0","1","2","3","4","5"]}},"required":["text","text_1","text_2"]}}}},"actions":{"Create_a_repository_dispatch_event_2":{"runAfter":{},"metadata":{"operationMetadataId":"5d4d296d-4e03-4159-8ecc-1919e6a7cf15","flowSystemMetadata":{"swaggerOperationId":"CreateRepositoryDispatchEvent"}},"type":"ApiConnection","inputs":{"host":{"connection":{"name":"@json(decodeBase64(triggerOutputs().headers['X-MS-APIM-Tokens']))['$connections']['github']['connectionId']"}},"method":"post","body":{"event_type":"button","client_payload":{"action":"@triggerBody()['text']","environment":"@triggerBody()['text_1']","expires":"@triggerBody()['text_2']"}},"headers":{"Accept":"application/vnd.github.v3+json"},"path":"/repos/@{encodeURIComponent('<yourgithubname>')}/@{encodeURIComponent('<your_github_repository>')}/dispatches","authentication":{"type":"Raw","value":"@json(decodeBase64(triggerOutputs().headers['X-MS-APIM-Tokens']))['$ConnectionKey']"}}}},"outputs":{}},"parameters":{},"runtimeConfiguration":{"lifetime":{"unit":"Day","count":30},"collections":{"maximumItemCount":100000},"performanceProfile":{"throttles":{"mode":"Medium"}},"retryPolicy":{"type":"Exponential","interval":"PT5M","count":2,"minimumInterval":"PT5M","maximumInterval":"PT1H"},"usageConfiguration":{"name":"USER-F1B001143E9B45C8BC18B549FA041143"}},"integrationAccount":{"name":"538cf6fdf5d444518e4a88c34f2f2619-uksouth","id":"subscriptions/71b6eb3f-48a4-46b7-9df4-8ec119fc2a11/resourceGroups/538cf6fdf5d444518e4a88c34f2f2619-ia/providers/Microsoft.Logic/integrationAccounts/538cf6fdf5d444518e4a88c34f2f2619-uksouth","type":"Microsoft.Logic/integrationAccounts"}}}]}